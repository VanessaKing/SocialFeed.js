(function(e,t,n){function r(n,s){if(!t[n]){if(!e[n]){var o="function"==typeof require&&require;if(!s&&o)return o(n,!0);if(i)return i(n,!0);throw Error("Cannot find module '"+n+"'")}var a=t[n]={exports:{}};e[n][0].call(a.exports,function(t){var i=e[n][1][t];return r(i?i:t)},a,a.exports)}return t[n].exports}for(var i="function"==typeof require&&require,s=0;n.length>s;s++)r(n[s]);return r})({1:[function(e){var t=e("./api"),n=e("./controller"),r=e("./basemodule"),i=e("./utils"),s=window.SocialFeed=function(e){return this instanceof s?(e.el||(e={el:e}),this.c=new n(e),void 0):new s};i.inherits(s,t),window.SocialFeed.Modules={Disqus:e("./modules/disqus"),Github:e("./modules/github"),YouTubeUploads:e("./modules/youtubeuploads"),Delicious:e("./modules/delicious"),SocialBase:r,extend:function(e){return r.extend(e)}}},{"./api":2,"./controller":3,"./basemodule":4,"./utils":5,"./modules/disqus":6,"./modules/github":7,"./modules/youtubeuploads":8,"./modules/delicious":9}],2:[function(e,t){var n=t.exports=function(){};n.prototype={start:function(){return this.c.emit("start"),this},reload:function(){return this.c.emit("reload"),this},addModule:function(e){return this.c.emit("addModule",e),this},nextBulk:function(){return this.c.emit("nextBulk"),this},loadNumEntries:function(e){return this.c.emit("loadNumEntries",e),this},on:function(e,t){return this.c.on(e,t),this}}},{}],5:[function(e,t,n){n.timesince=function(e){e=new Date(e);var t=Math.floor((new Date-e)/1e3),n=Math.floor(t/31536e3);return n>1?n+" years ago":(n=Math.floor(t/2592e3),n>1?n+" months ago":(n=Math.floor(t/86400),n>1?n+" days ago":(n=Math.floor(t/3600),n>1?n+" hours ago":(n=Math.floor(t/60),n>1?n+" minutes ago":Math.floor(t)+" seconds ago"))))};var r=n.isFunc=function(e){return"[object Function]"==Object.prototype.toString.call(e)};n.result=function(e,t){if(null!=e){var n=e[t];return r(n)?n.call(e):n}},n.bind=function(e,t){var n=[].slice.call(arguments,2);return function(){return e.apply(t||this,n.concat([].slice.call(arguments)))}},n.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.extend=function(e){return[].slice.call(arguments,1).forEach(function(t){if(t)for(var n in t)e[n]=t[n]}),e},n.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},{}],10:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){if(e.source===window&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var t=n.shift();t()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw Error("process.chdir is not supported")}},{}],11:[function(e,t,n){(function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;e.length>n;n++)if(t===e[n])return n;return-1}e.EventEmitter||(e.EventEmitter=function(){});var r=n.EventEmitter=e.EventEmitter,i="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=10;r.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},r.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(i(t)){for(var n=Array.prototype.slice.call(arguments,1),r=t.slice(),s=0,o=r.length;o>s;s++)r[s].apply(this,n);return!0}return!1},r.prototype.addListener=function(e,t){if("function"!=typeof t)throw Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e])if(i(this._events[e])){if(!this._events[e].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:s,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];else this._events[e]=t;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},r.prototype.removeListener=function(e,n){if("function"!=typeof n)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var r=this._events[e];if(i(r)){var s=t(r,n);if(0>s)return this;r.splice(s,1),0==r.length&&delete this._events[e]}else this._events[e]===n&&delete this._events[e];return this},r.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},r.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}})(e("__browserify_process"))},{__browserify_process:10}],3:[function(e,t){var n=e("events").EventEmitter,r=e("./utils"),i=t.exports=function(e){this.modules=[],this.feedRendered=null,this.$el=e.el||null,this.count=e.count||1e3,this._offset=e.offset||0,this.on("start",r.bind(this.start,this)),this.on("reload",r.bind(this.reload)),this.on("addModule",r.bind(this.addModule)),this.on("postFetch",r.bind(this.render)),this.on("nextBulk",r.bind(this.nextBulk)),this.on("loadNumEntries",r.bind(this.loadNumEntries))};r.inherits(i,n),r.extend(i.prototype,{_sync_count:0,addModule:function(e){this.modules.push(e),this.emit("moduleAdded",e)},start:function(){var e=this;e.emit("preFetch"),e.modules.forEach(function(t){t.fetch(),t.on("fetched",r.bind(e.moduleFetched,e)),t.on("error",function(){e.emit.apply(e,["error"].concat(arguments))})})},moduleFetched:function(){++this._sync_count===this.modules.length&&(this.emit("postFetch",this.modules),this._sync_count=0)},reload:function(){this.$el.empty(),this._offset=1,this.feedRendered=null,this.emit("preFetch"),this.modules.forEach(function(e){e.fetch()})},nextBulk:function(){return this.loadNumEntries(this.count)},loadNumEntries:function(e){if(this._offset>=this.feedRendered.length)return this;var t=this.count;return this.count=e,this.render(),this.count=t,this},render:function(){var e=this.$el;null===this.feedRendered&&(this.feedRendered=this._generateOrderedList(),this.emit("dataReady",this.feedRendered,this.modules));var t=this.feedRendered.slice(this._offset,this._offset+this.count);return t.forEach(function(t){e.append(t.html)}),this._offset+=this.count,this.emit("rendered",t),this},_generateOrderedList:function(){var e=[];return this.modules.forEach(function(t){var n=t.collection.map(function(e){var n=t.render(e);return n?{orderBy:t.orderBy(e),html:n}:null});n=n.filter(function(e){return null!==e}),e=e.concat(n)}),this._orderList(e)},_orderList:function(e){return e.sort(function(e,t){var n=e.orderBy,r=t.orderBy;return n>r||void 0===n?1:r>=n||void 0===r?-1:void 0})}})},{events:11,"./utils":5}],4:[function(e,t){var n=e("events").EventEmitter,r=e("./utils"),i=t.exports=function(){this.collection=[],this.init.apply(this,arguments)};r.inherits(i,n),i.extend=function(e,t){var n,i=this;n=e&&r.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},r.extend(n,i,t);var s=function(){this.constructor=n};return s.prototype=i.prototype,n.prototype=new s,e&&r.extend(n.prototype,e),n.__super__=i.prototype,n},i.fetch=function(e){return $.ajax(e)};var s=window;r.extend(i.prototype,{ajaxSettings:{dataType:"jsonp"},init:function(e){if(this.ident=e,this.$=s.jQuery||s.Zepto||s.ender||s.$,!this.$)throw"jQuery, Zepto or Ender is required to use SocialFeed."},fetch:function(e){e=e?r.clone(e):{};var t=r.result(this,"url"),n=this,s=e.success;e.url=t,e.success=function(t){var r=n.parse(t);n.collection=r,s&&s(n,r,e),n.emit("fetched",n,r,e)};var o=e.error;return e.error=function(t){o&&o(n,t,e),n.emit("error",n,t,e)},i.fetch(r.extend(this.ajaxSettings,e))},parse:function(e){return e},orderBy:function(){},render:function(){}})},{events:11,"./utils":5}],6:[function(e,t){var n=e("../basemodule"),r=e("../resources").disqus,i=e("../utils");t.exports=n.extend({init:function(e,t){this.ident=e,this.apikey=t},url:function(){return"https://disqus.com/api/3.0/users/listPosts.json?api_key="+this.apikey+"&user:username="+this.ident},parse:function(e){return e.response},orderBy:function(e){return-new Date(e.createdAt).getTime()},render:function(e){return r.replace("{{author.profileUrl}}",e.author.profileUrl).replace("{{author.name}}",e.author.name).replace("{{createdAt}}",e.createdAt).replace("{{time_since}}",i.timesince(e.createdAt)).replace("{{message}}",e.message)}})},{"../resources":12,"../basemodule":4,"../utils":5}],7:[function(e,t){var n=e("../basemodule"),r=e("../resources"),i=e("../utils"),s={create:r.github_create,createbranch:r.github_createbranch,watch:r.github_watch,push:r.github_push,pullrequest:r.github_pullrequest,fork:r.github_fork,issue:r.github_issue},o=function(e,t){return s[e].replace("{{profileUrl}}",t.actor.url).replace("{{username}}",t.actor.login).replace("{{reponame}}",t.repo.name).replace("{{repourl}}","https://github.com/"+t.repo.name).replace("{{time_since}}",i.timesince(t.created_at)).replace("{{created_at}}",t.created_at)},a={CreateEvent:!0,WatchEvent:!0,PushEvent:!0,PullRequestEvent:!0,ForkEvent:!0,IssuesEvent:!0};t.exports=n.extend({init:function(e,t){this.ident=e,this.show=i.extend(a,t)},url:function(){return"https://api.github.com/users/"+this.ident+"/events"},orderBy:function(e){return-new Date(e.created_at).getTime()},renderMethods:{CreateEvent:function(e){return null===e.payload.ref?o("create",e):o("createbranch",e).replace("{{branchurl}}",e.repo.url+"/tree/"+e.payload.ref).replace("{{branchname}}",e.payload.ref)},WatchEvent:function(e){return o("watch",e)},PushEvent:function(e){var t=$(o("push",e)),n=t.find(".socialfeed-commit-list"),r=n.find("li:first");return e.payload.commits.forEach(function(e){var t=r.clone();t.find("a").attr("href",e.url).text(e.sha.substr(0,7)),t.find("span").text(e.message),n.prepend(t)}),r.remove(),t},PullRequestEvent:function(e){return o("pullrequest",e).replace("{{action}}",e.payload.action).replace("{{title}}",e.payload.pull_request.title).replace("{{pullrequesturl}}",e.payload.pull_request.html_url).replace("{{pullrequestname}}",e.repo.name+"#"+e.payload.number)},ForkEvent:function(e){return o("fork",e).replace("{{forkeeurl}}",e.payload.forkee.html_url).replace("{{forkeename}}",e.payload.forkee.full_name)},IssuesEvent:function(e){return o("issue",e).replace("{{action}}",e.payload.action).replace("{{title}}",e.payload.issue.title).replace("{{issueurl}}",e.payload.issue.html_url).replace("{{issuename}}",e.repo.name+"#"+e.payload.number)}},parse:function(e){return e.data},render:function(e){return e.type&&this.renderMethods[e.type]&&this.show[e.type]?this.renderMethods[e.type].apply(this,[e]):null}})},{"../basemodule":4,"../resources":12,"../utils":5}],8:[function(e,t){var n=e("../basemodule"),r=e("../resources").youtubeuploads,i=e("../utils");t.exports=n.extend({ajaxSettings:{cache:!0,dataType:"jsonp"},init:function(e,t){this.ident=e,this.maxCount=t||10},url:function(){return"http://gdata.youtube.com/feeds/users/"+this.ident+"/uploads?alt=json-in-script&format=5&max-results="+this.maxCount},parse:function(e){var t=e.feed;return t.entry||[]},orderBy:function(e){return-new Date(e.updated.$t).getTime()},hideAndMakeYoutubeClickable:function(e,t){var n=$(t),r=n.find("iframe"),i=e.media$group.media$thumbnail[0].url,s=$("<img />",{src:i,"class":"youtube-preview"}).insertAfter(r).on("click",function(){r.insertAfter(s),s.remove()});return r.remove(),n},render:function(e){var t=r.replace("{{profileurl}}",e.author[0].uri.$t).replace("{{username}}",e.author[0].name.$t).replace("{{videourl}}",e.link[0].href).replace("{{videoname}}",e.title.$t).replace("{{created_at}}",e.updated.$t).replace("{{time_since}}",i.timesince(e.updated.$t)).replace("{{entryid}}",e.id.$t.substring(38)).replace("{{desc}}",e.media$group.media$description.$t);return this.hideAndMakeYoutubeClickable(e,t)}})},{"../basemodule":4,"../resources":12,"../utils":5}],9:[function(e,t){var n=e("../basemodule"),r=e("../resources").delicious,i=e("../utils");t.exports=n.extend({url:function(){return"http://feeds.delicious.com/v2/json/"+this.ident},orderBy:function(e){return-new Date(e.dt).getTime()},render:function(e){return r.replace("{{u}}",e.u).replace("{{d}}",e.d).replace("{{n}}",e.n).replace("{{dt}}",e.dt).replace("{{time_since}}",i.timesince(e.dt))}})},{"../basemodule":4,"../resources":12,"../utils":5}],12:[function(e,t){t.exports={delicious:'<div class="socialfeed-item socialfeed-delicious">\n  <i class="socialfeed-icon icon-link"></i>\n  <header>\n    <h2><a href="{{u}}">{{d}}</a></h2>\n    <time datetime="{{dt}}">{{time_since}}</time>\n  </header>\n  <div class="socialfeed-body">\n    {{n}}\n  </div>\n</div>',disqus:'<div class="socialfeed-item socialfeed-disqus">\n  <i class="socialfeed-icon icon-comment-alt"></i>\n  <header>\n    <h2><a href="{{author.profileUrl}}">{{author.name}}</a></h2>\n    <time datetime="{{createdAt}}">{{time_since}}</time>\n  </header>\n  <div class="socialfeed-body">\n    {{message}}\n  </div>\n</div>',github_create:'<div class="socialfeed-item socialfeed-github socialfeed-github-create">\n  <i class="socialfeed-icon icon-github"></i>\n  <header>\n    <h2>\n      <a href="{{profileUrl}}">{{username}}</a> created repository <a href="{{repourl}}">{{reponame}}</a>\n    </h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n</div>',github_createbranch:'<div class="socialfeed-item socialfeed-github socialfeed-github-createbranch">\n  <i class="socialfeed-icon icon-github"></i>\n  <header>\n    <h2>\n      <a href="{{profileUrl}}">{{username}}</a> \n      created branch <a href="{{branchurl}}">{{branchname}}</a> \n      at <a href="{{repourl}}">{{reponame}}</a></h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n</div>',github_fork:'<div class="socialfeed-item socialfeed-github socialfeed-github-fork">\n  <i class="socialfeed-icon icon-github"></i>\n  <header>\n    <h2>\n      <a href="{{profileUrl}}">{{username}}</a> \n      forked repository <a href="{{repourl}}">{{reponame}}</a>\n      to <a href="{{forkeeurl}}">{{forkeename}}</a>\n    </h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n</div>',github_issue:'<div class="socialfeed-item socialfeed-github socialfeed-github-issue">\n  <i class="socialfeed-icon icon-github"></i>\n  <header>\n    <h2>\n      <a href="{{profileUrl}}">{{username}}</a> \n      {{action}} issue <a href="{{issueurl}}">{{issuename}}</a>\n    </h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n  <div class="socialfeed-body">\n    {{title}}\n  </div>\n</div>',github_pullrequest:'<div class="socialfeed-item socialfeed-github socialfeed-github-pull-request">\n  <i class="socialfeed-icon icon-github"></i>\n  <header>\n    <h2>\n      <a href="{{profileUrl}}">{{username}}</a> \n      {{action}} pull request <a href="{{pullrequesturl}}">{{pullrequestname}}</a>\n    </h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n  <div class="socialfeed-body">\n    {{title}}\n  </div>\n</div>',github_push:'<div class="socialfeed-item socialfeed-github socialfeed-github-push">\n  <i class="socialfeed-icon icon-github"></i>\n  <header>\n    <h2>\n      <a href="{{profileUrl}}">{{username}}</a> \n      pushed to <a href="{{repourl}}">{{reponame}}</a>\n    </h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n  <ul class="socialfeed-commit-list">\n    <li>\n      <a href="{{commiturl}}">{{commit}}</a>\n      <span>{{commit_message}}</span>\n    </li>\n  </ul>\n</div>',github_watch:'<div class="socialfeed-item socialfeed-github socialfeed-github-watch">\n  <i class="socialfeed-icon icon-github"></i>\n  <header>\n    <h2><a href="{{profileUrl}}">{{username}}</a> starred <a href="{{repourl}}">{{reponame}}</a></h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n</div>',youtubeuploads:'<div class="socialfeed-item socialfeed-youtube socialfeed-youtube-upload">\n  <i class="socialfeed-icon icon-play-circle"></i>\n  <header>\n    <h2><a href="{{profileurl}}">{{username}}</a> added a video: <a href="{{videourl}}">{{videoname}}</a></h2>\n    <time datetime="{{created_at}}">{{time_since}}</time>\n  </header>\n  <div class="socialfeed-body">\n    <iframe class="youtube-preview"\n      src="http://www.youtube.com/embed/{{entryid}}?wmode=transparent&amp;HD=0&amp;rel=0&amp;showinfo=0&amp;controls=1&amp;autoplay=1" \n      frameborder="0" \n      allowfullscreen>\n    </iframe>\n    <p>{{desc}}</p>\n  </div>\n</div>'}},{}]},{},[1]);